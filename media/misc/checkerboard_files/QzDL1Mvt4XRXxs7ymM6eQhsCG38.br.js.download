var SlideExperience;(function(n){function k(n,t,i,r,u,f,e,o,s,h,c,l,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt){var pt=new AjaxDataLoader.AjaxDataLoader("SlideExp",f,!0),at=new a(n,t,i,r,u,pt,e,o,s,h,c,l,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt),vt,yt;if(at.init(),_w.StateUpdater){if(vt=_w.StateUpdater.restore(at.stateKey),vt==null)return;yt=parseInt(vt);at.slideToIndex(yt,null,!0)}}function h(n){for(var t in o)if(t.indexOf(n)===0)return o[t]}function f(){sj_evt.fire("lazyLdImg")}function d(n,t){var i=h(n);i&&!i.enableAutoStackableSlideCrossFading&&(i.disableAutoSliding(),i.disableAutoSlidingAnimation(),i.slideToIndex(t))}function g(n){var t=h(n),i=[];return t&&(i=t.getVisibleSlidesIndices()),i}function nt(n,t){var i=h(n),r=i.getVisiblePercentage(t);return new l(t,r)}var t="slide_fading",s="hideSlideMask",v="b_autoslidingfade",y="firstslideopaque",p="enable_selecting",e="selected",c="narrpole",r=_G.RTL,i=r?"marginRight":"marginLeft",w=r?"paddingRight":"paddingLeft",b=1004,u=typeof n.isAutoSlideTimer=="undefined"?!1:n.isAutoSlideTimer,l=function(){function n(n,t){this.slideIndex=n;this.visiblePercentage=t}return n}(),a,o;n.VisibleSlide=l;a=function(){function n(n,t,i,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt){var at=this,yt,vt;if(this.slidingTimeSpan=.25,this.animationInterval=50,this.swipeThreshold=50,this.autoSlidingInterval=0,this.autoSlidingPausedTimeStamp=0,this.latestSwipeActionId=0,this.isSlideShow=!0,this.sameViewportWidthOnOrientation=!1,this.shouldSnapOnOrientation=!1,this.activeSlideIndex=0,this.swipeTargetOffset=0,this.isMaskFadingAnimation=!1,this.ani=null,this.paddingBufferWithoutDropShadow=0,this.allowForBoxShadow=0,this.enableAjaxBatchDataRequest=!1,this.ajaxBatchDataStopRequests=!1,this.enableFirstAjaxBatchOnExpansion=!1,this.ajaxBatchDataRequestFactor=3,this.disableSlideShowSwipeAnimation=!1,this.autoSlideTimer=null,this.isManualSlideScroll=!0,this.enableLogPauseAutoSlide=!0,this.enableCopyText=!1,this.scrolling=!1,this.callbackBatchAjax=function(n){if(!n||n.length<=0){at.seeMoreSlide&&(at.bar.appendChild(at.seeMoreSlide),at.totalSlides++);return}for(var i=n.length,t=_d.createDocumentFragment();n.length;)t.appendChild(n[0]);at.bar.appendChild(t);at.totalSlides+=i;at.updatePager();at.updateChevrons();at.ajaxBatchDataStopRequests=!1},this.autoSlidingInterval=i,this.enableCopyText=lt,this.id=n,this.controlId=t,this.bar=_ge(t),this.bar){if(this.control=_ge(this.bar.id+"c"),this.viewport=this.getViewPortParent(this.bar)||this.bar.parentElement,!this.viewport){Log.Log("SlideExp","ViewportNull",u?"Carousel":"SlideShow",!1,"ControlId",this.controlId,"Category","CommonControls");return}if(this.enableBodyWidthOverride=ft,this.enableBodyWidthOverridePole=et,this.enableBodyWidthOverridePoleCF=ot,this.isPoleCarousel=ht,!ht&&(this.enableBodyWidthOverridePole||this.enableBodyWidthOverridePoleCF)&&(yt=_ge("b_pole"),yt)){for(vt=_ge(this.controlId);vt!=null&&vt!=yt&&vt!=_d.documentElement;)vt=vt.parentElement;vt==yt&&(this.enableBodyWidthOverridePole&&(this.isPoleCarousel=!0),Log.Log("Info","SLIDEPOLEOVR","1"))}if(this.showChevronAllTime=o,this.hideChevronsOnStart=b,this.paddingBuffer=k&&u?this.computePaddingBuffer():this.paddingBufferWithoutDropShadow,this.allowForBoxShadow=k?2:0,this.appns=this.control.getAttribute("data-appns"),this.kvalue=this.control.getAttribute("data-k"),this.isSlideShow=!u,this.slideExpType=u?"Carousel":"SlideShow",this.slideRightMargin=f,this.dirMultiplier=!r||sb_ie?1:-1,v&&(this.seeMoreSlide=_ge(this.controlId+"_carousel_seemore").parentElement,d&&this.bar.removeChild(this.seeMoreSlide)),this.totalSlides=this.bar.childElementCount,this.totalSlides<=0)throw"no slides was found";this.initialViewportWidth=this.viewportWidth();this.ajaxDataLoader=e;this.isSlideShow&&(this.sameViewportWidthOnOrientation=!0,this.shouldSnapOnOrientation=!0);this.enableVariedWidth=s;this.enableAutoSlidingFade=h;this.enableAutoStackableSlideCrossFading=c;this.enableHidePagerAndChevron=l;this.enableInitialOffset=p>0;this.enableNegativeBleeding=a;this.getExtraBleedingMargin();this.enableCarouselSeeMore=v;this.enableHighlightSelectedSlide=y;this.shownSlideIndex=p;this.enableInitialOffset&&(this.activeSlideIndex=p);this.stateKey=this.control.getAttribute("data-stk");this.enableSquareBackgroundOnHoverChevron=w;this.hoverRegion=w?this.bar:this.control;this.enableAjaxBatchDataRequest=d&&!g;this.enableFirstAjaxBatchOnExpansion=g;this.ajaxBatchDataRequestFactor=nt;this.enableKeyboardNavigation=tt;this.disableSlideShowSwipeAnimation=it;this.enableHoverFading=ut;this.alwaysAutoSliding=ct;this.enableFocusOnSlideChild=rt}else Log.Log("SlideExp","SlideBarNull",u?"Carousel":"SlideShow",!1,"ControlId",this.controlId,"Category","CommonControls")}return n.prototype.computePaddingBuffer=function(){if(_w.getComputedStyle){var n=_w.getComputedStyle(this.viewport);return parseInt(n.paddingTop)+parseInt(n.paddingBottom)}return this.paddingBufferWithoutDropShadow},n.prototype.enableNativeScrolling=function(){var n,i,t;this.viewport&&this.viewport.getAttribute("nativeScrollingEnabled")!=="1"&&(this.viewport.parentElement.style.overflow="hidden",n=this.viewport.offsetHeight,n!==0||this.isSlideShow?n!==0&&(this.viewport.parentElement.style.height=""+n+"px",this.bar.style.height=""+this.viewportHeightToBarHeight(n)+"px",this.isSlideShow||(Lib.CssClass.add(this.viewport,"scrollbar"),i=this.viewport.offsetHeight,this.viewport.style.height=""+i+"px",this.viewport.style.marginBottom="-30px",this.viewport.style.paddingBottom="30px",this.enableCarouselSeeMore&&(t=this.seeMoreSlide.firstChild,t.style.height=""+n+"px",t.style.lineHeight=""+n+"px"))):Lib.CssClass.add(this.viewport,"scrollbar"),this.viewport.setAttribute("nativeScrollingEnabled","1"))},n.prototype.init=function(){var n=this,s,h,c,l,t,r,i,f;if(this.viewport){this.enableHighlightSelectedSlide&&Lib.CssClass.add(this.bar,p);this.enableInitialOffset&&this.consumeInitialOffset();this.enableAutoStackableSlideCrossFading||this.enableNativeScrolling();this.enableVariedWidth&&this.isSlideShow&&this.hideOverlayInSlide();(this.enableAutoSlidingFade||this.enableAutoStackableSlideCrossFading)&&this.enablefirstSlideFade();this.enableBodyWidthOverride&&this.adjustContainerWidthForSmallViewPort();sj_be(this.viewport,"scroll",function(){n.onScroll()});this.enableHidePagerAndChevron||Swipe.OnSwipe(function(t){if(n.isSlideShow){var i;n.enableVariedWidth?(i=n.activeSlideIndex-1,n.updateScrollingVariedWidth(t,++n.latestSwipeActionId,i)):(i=n.getActiveSlide()-1,n.updateScrollingEqualWidth(t,++n.latestSwipeActionId,i));_w.WireUp&&WireUp.setValue(n.control,"selected",i);_w.WireUp&&WireUp.setValue(n.control,"active",i);n.updateState(i)}sj_evt.fire("slideexp_log","Left","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls");Log.Log("Left","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls")},function(t){if(n.isSlideShow){var i;n.enableVariedWidth?(i=n.activeSlideIndex+1,n.updateScrollingVariedWidth(t,++n.latestSwipeActionId,i)):(i=n.getActiveSlide()+1,n.updateScrollingEqualWidth(t,++n.latestSwipeActionId,i));_w.WireUp&&WireUp.setValue(n.control,"selected",i);_w.WireUp&&WireUp.setValue(n.control,"active",i);n.updateState(i)}sj_evt.fire("slideexp_log","Right","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls");Log.Log("Right","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls")},this.control,this.swipeThreshold,function(t){n.isSlideShow&&(n.viewport.scrollLeft-=t,n.latestSwipeActionId=0,n.disableAutoSliding(),n.disableAutoSlidingAnimation())},function(t){n.isLeft=t>0;n.isRight=t<0;n.isSlideShow&&(n.enableVariedWidth?n.updateScrollingVariedWidth(t,++n.latestSwipeActionId,n.activeSlideIndex):n.updateScrollingEqualWidth(t,++n.latestSwipeActionId,n.getActiveSlide()));sj_evt.fire("slideexp_log","NoOp","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls");Log.Log("NoOp","SlideExp","Swipe",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls")},function(){sj_evt.fire("slideexp_movestart",n.controlId)},!0,this.isSlideShow?!0:!1);this.enableCopyText?(s=this.bar.children[0],s.removeAttribute("tabindex")):this.isSlideShow||(sj_be(this.control,"mousedown",function(t){h=t.pageX;c=t.pageY;t.preventDefault&&t.preventDefault();var i=t.pageX,r=function(t){var r=t.pageX-i;n.viewport.scrollLeft-=r;i=t.pageX},u=function(){sj_ue(_w,"mousemove",r,!0);sj_ue(_w,"mouseup",u,!0)};sj_be(_w,"mousemove",r,!0);sj_be(_w,"mouseup",u,!0)},!0),l=function(n){n.isTrusted&&(Math.abs(n.pageX-h)>5||Math.abs(n.pageY-c)>5)&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation())},sj_be(this.control,"click",l,!0));this.updateMaxScrollLeft();Orientation.onOrientation(function(t){var i,u,f,e,r;n.enableVariedWidth&&n.isSlideShow&&(i=n.bar.children[0],u=(_w.innerWidth-n.getElementWidth(i))/2,i.style.marginLeft=""+u+"px",f=n.bar.children[n.bar.childElementCount-1],e=(_w.innerWidth-n.getElementWidth(i))/2,f.style.marginRight=""+e+"px",n.viewport.scrollLeft=n.calculateScrollLeft(n.activeSlideIndex));!n.sameViewportWidthOnOrientation||n.enableVariedWidth&&n.isSlideShow||(n.viewport.style.width=t?""+n.initialViewportWidth+"px":"");!n.shouldSnapOnOrientation||n.isSlidingAnimation()||n.enableVariedWidth&&n.isSlideShow||(n.viewport.scrollLeft=n.getActiveSlide()*n.slideWidth());n.updateMaxScrollLeft();r=_ge(n.controlId);r?Log.Log(t?"Landsc":"Portrt","SlideExp","Rotate",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls"):Log.Log(t?"Landsc":"Portrt","SlideExp","Rotate",!1,"Type",n.slideExpType,"GeE","1","AppNS",n.appns,"K",n.kvalue,"Category","CommonControls");sj_evt.fire("slideexp_rotate",n.controlId,r?null:n.bar)});if(this.isAutoSlidingDisabled()||(u?this.triggerAutoSlideTimer(0):sb_st(function(){n.autoSlide(0)},this.autoSlidingInterval*1e3),this.enableHidePagerAndChevron||(sj_be(this.control,"mouseover",function(){n.pauseAutoSliding();n.autoSlidingPausedTimeStamp=(new Date).getTime()}),sj_be(this.control,"mouseout",function(){var t=(new Date).getTime();t-n.autoSlidingPausedTimeStamp>5e3&&!n.alwaysAutoSliding?(n.disableAutoSliding(),n.disableAutoSlidingAnimation()):n.resumeAutoSliding()}))),sj_be(this.hoverRegion,"mouseover",function(){n.enableChevronsOnSlideExperienceInvisibility();n.enableHoverFading&&Lib.CssClass.add(n.control,"hoverFading");n.enableSquareBackgroundOnHoverChevron&&sj_evt.fire("slideexp_mouseover_dark",n.controlId);sj_evt.fire("slideexp_mouseover_show",n.controlId)}),sj_be(this.hoverRegion,"mouseout",function(){n.enableSquareBackgroundOnHoverChevron?sj_evt.fire("slideexp_mouseout_light",n.controlId):n.showChevronAllTime||sj_evt.fire("slideexp_mouseout_hide",n.controlId)}),this.enableHidePagerAndChevron||this.alwaysAutoSliding||sj_be(this.control,"click",function(){n.disableAutoSliding();n.disableAutoSlidingAnimation()}),sj_evt.bind("slideexp_slideprev",function(t){n.isEventForMe(t)&&(n.disableAutoSliding(),n.disableAutoSlidingAnimation(),n.slidePrev())}),sj_evt.bind("slideexp_slidenext",function(t){n.isEventForMe(t)&&(n.disableHoverFading(),n.disableAutoSliding(),n.disableAutoSlidingAnimation(),n.slideNext())}),sj_evt.bind("slideexp_expandright",function(t){n.isEventForMe(t)&&(n.disableHoverFading(),n.enableFirstAjaxBatchOnExpansion&&(n.disableAutoSliding(),n.disableAutoSlidingAnimation(),n.enableAjaxBatchDataRequest=!0,n.updateAjax()))}),sj_evt.bind("slideexp_slidetoindex",function(t){if(n.isEventForMe(t)){var i=t[2];n.disableAutoSliding();n.disableAutoSlidingAnimation();n.isSlideShow?n.activeSlideIndex!==i&&n.slideToIndex(i,!1,n.disableSlideShowSwipeAnimation):n.slideToIndexWithMinOffset(i);Log.Log("SlideTo","SlideExp","ID"+i,!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls")}},!0),sj_evt.bind("slideexp_pauseautoslide",function(t){n.isEventForMe(t)&&(n.logWhenHoverForLong(),n.pauseAutoSliding())}),sj_evt.bind("slideexp_resumeautoslide",function(t){n.isEventForMe(t)&&(n.cancelLogWhenHoverForLong(),n.resumeAutoSliding())}),sj_evt.bind("slideexp_resumeautoslidefromstart",function(t){n.isEventForMe(t)&&n.resumeAutoSlidingFromStart()}),sj_evt.bind("slideexp_terminateprevslide",function(t){n.isEventForMe(t)&&n.terminatePrevSlide()}),sj_evt.bind("slideexp_resetchevronsvisibility",function(t){n.isEventForMe(t)&&n.enableChevronsOnSlideExperienceInvisibility()}),!this.isSlideShow&&this.enableHighlightSelectedSlide)for(t=0;t<this.bar.children.length;++t)sj_be(this.bar.children[t],"click",function(t){return function(){for(var r,i=0;i<n.bar.children.length;i++)r=n.bar.children[i],Lib.CssClass.remove(r,e);Lib.CssClass.add(n.bar.children[t],e);n.slideToIndexWithMinOffset(t);Log.Log("HighLight","SlideExp","Click",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls")}}(t));for(t=0;t<this.bar.children.length;++t)sj_be(this.bar.children[t],"click",function(t){return function(){_w.WireUp&&WireUp.setValue(n.control,"selected",t);n.isSlideShow||_w.WireUp&&WireUp.setValue(n.control,"active",t);Log.Log("ClickOnSlide","SlideExp","Click",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls")}}(t));if(this.enableKeyboardNavigation)for(i=0;i<this.bar.childElementCount;++i)sj_be(this.bar.children[i],"keydown",function(t){return function(i){i.keyCode===37&&t!==0?n.slideToIndex(t-1,!0):i.keyCode===39&&t!==n.bar.childElementCount-1&&n.slideToIndex(t+1,!0)}}(i)),sj_be(this.bar.children[i],"focus",function(){n.disableAutoSliding();n.disableAutoSlidingAnimation()});for(this.showChevronAllTime&&!this.hideChevronsOnStart&&(this.updateChevrons(),sj_evt.fire("slideexp_mouseover_show",this.controlId)),this.updatePager(),this.updateChevrons(),this.updateAjax(),r=6e5,i=0;i<this.totalSlides;++i)r=Math.min(r,this.ajaxDataLoader.autoReloadingInterval(this.getSlide(i)));r=Math.max(r,1e4);f=this;sb_si(function(){f.updateAjax.apply(f)},r);o[this.id]=f;sj_evt.fire("slideexp_init_done",this.controlId)}},n.prototype.onScroll=function(){var n=this;this.scrolling||(this.scrolling=!0,sb_st(function(){n.updatePager();n.updateChevrons();n.updateAjax();sj_evt.fire("slideexp_scroll",n.controlId);n.isManualSlideScroll&&(sj_evt.fire("slideexp_log","Scroll","SlideExp","Scroll",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls"),Log.Log("Scroll","SlideExp","Scroll",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls"));n.isManualSlideScroll=!0;n.scrolling=!1},1e3))},n.prototype.disableAutoSliding=function(){u&&this.resetAutoSlideTimer();this.autoSlidingInterval=0;this.enableLogPauseAutoSlide=!1},n.prototype.setEnableCopyText=function(n){this.enableCopyText=n},n.prototype.isCopyTextEnabled=function(){return this.enableCopyText},n.prototype.logWhenHoverForLong=function(){var n=this;this.hoverRecordingFunction=setTimeout(function(){Log.Log("MouseOver","SlideExp","Slide",!1,"Type",n.slideExpType,"AppNS",n.appns,"K",n.kvalue,"Category","CommonControls")},3e3)},n.prototype.cancelLogWhenHoverForLong=function(){clearTimeout(this.hoverRecordingFunction)},n.prototype.disableAutoSlidingAnimation=function(){var n,i;if(!this.enableAutoStackableSlideCrossFading)for(Lib.CssClass.remove(this.bar,v),n=0;n<this.bar.childElementCount;n++)i=this.bar.children[n],Lib.CssClass.remove(i,t);this.enableAutoSlidingFade=!1},n.prototype.disableHoverFading=function(){this.enableHoverFading&&(Lib.CssClass.remove(this.control,"hoverFading"),this.enableHoverFading=!1)},n.prototype.isAutoSlidingDisabled=function(){return this.autoSlidingInterval===0},n.prototype.isAutoSlidingPaused=function(){return this.autoSlidingInterval<0},n.prototype.pauseAutoSliding=function(){this.isAutoSlidingPaused()||this.isAutoSlidingDisabled()||this.enableAutoStackableSlideCrossFading&&this.enableHidePagerAndChevron||(this.autoSlidingInterval=-this.autoSlidingInterval,this.enableLogPauseAutoSlide&&Log.Log("PauseAutoSlide","SlideExp","PauseAutoSlide",!1,"Type",this.slideExpType,"AppNS",this.appns,"K",this.kvalue,"Category","CommonControls"),this.enableLogPauseAutoSlide=!1)},n.prototype.resumeAutoSliding=function(){var n=this;this.isAutoSlidingDisabled()||!this.isAutoSlidingPaused()||this.enableAutoStackableSlideCrossFading&&this.enableHidePagerAndChevron||(this.autoSlidingInterval=-this.autoSlidingInterval,u?this.triggerAutoSlideTimer(this.activeSlideIndex):sb_st(function(){n.autoSlide(n.activeSlideIndex)},this.autoSlidingInterval*1e3))},n.prototype.resumeAutoSlidingFromStart=function(){var t=this,n;this.isAutoSlidingDisabled()||this.enableAutoStackableSlideCrossFading&&this.enableHidePagerAndChevron||(n=Math.abs(this.autoSlidingInterval),this.disableAutoSliding(),this.disableAutoSlidingAnimation(),this.isSlideShow?this.activeSlideIndex!==0&&this.slideToIndex(0,!1,this.disableSlideShowSwipeAnimation):this.slideToIndexWithMinOffset(0),u?this.triggerAutoSlideTimerFromStart(n):sb_st(function(){t.autoSlidingInterval=n;t.autoSlide(0)},n*1e3))},n.prototype.terminatePrevSlide=function(){Lib.CssClass.contains(this.bar,"anim")&&(Lib.CssClass.remove(this.bar,"anim"),this.bar.style.transition="x",this.bar.style[i]="",this.SetScrollLeft(this.lastTarget),this.updateChevrons())},n.prototype.getVisibleSlidesIndices=function(){for(var t=[],n=0;n<this.totalSlides;n++)this.isSlideVisible(n)&&t.push(n);return t},n.prototype.getVisiblePercentage=function(n){var t=0,i=this.getVisibleSlidesIndices(),r,u,f;return i.indexOf(n)>-1&&(u=n===this.totalSlides?n*(this.slideWidth()+this.slideRightMargin)-this.slideRightMargin:n*(this.slideWidth()+this.slideRightMargin),i.indexOf(n)===0?(f=this.viewport.scrollLeft-this.getExtraBleedingMargin()-u,r=f<0?this.slideWidth():this.slideWidth()-f,t=r/this.slideWidth()):i.indexOf(n)===i.length-1?(r=this.viewport.scrollLeft-this.getExtraBleedingMargin()+this.viewportWidth()-u,t=r/this.slideWidth()):t=1),Math.round(t*100)},n.prototype.viewportHeightToBarHeight=function(n){return n-this.paddingBuffer},n.prototype.hideOverlayInSlide=function(){var n=this.bar.children[this.shownSlideIndex>0?this.shownSlideIndex:0],t=n.children[n.childElementCount-1];Lib.CssClass.add(t,s)},n.prototype.enablefirstSlideFade=function(){var n=this.bar.children[0];Lib.CssClass.add(n,t)},n.prototype.enableChevronsOnSlideExperienceInvisibility=function(){this.updateMaxScrollLeft();this.updateChevrons()},n.prototype.getElementWidth=function(n){if(!n)return 0;if(_w.getComputedStyle){var t=_w.getComputedStyle(n).width;return Number(t.substring(0,t.length-2))}return n.scrollWidth},n.prototype.GetScrollLeft=function(){return this.dirMultiplier*this.viewport.scrollLeft},n.prototype.SetScrollLeft=function(n){this.viewport.scrollLeft=this.dirMultiplier*n},n.prototype.updateMaxScrollLeft=function(){if(this.enableVariedWidth&&this.isSlideShow){var n=this.bar.children[0],t=this.bar.children[this.bar.childElementCount-1],i=Math.abs(this.viewport.offsetWidth-this.getElementWidth(n))/2,r=Math.abs(this.viewport.offsetWidth-this.getElementWidth(t))/2;this.maxScrollLeft=i+this.viewport.scrollWidth+r-this.viewport.offsetWidth}else this.maxScrollLeft=this.viewport.scrollWidth-this.viewport.offsetWidth+this.allowForBoxShadow},n.prototype.firstElementChild=function(n){if(n.firstElementChild)return n.firstElementChild;for(var t=n.firstChild;t;){if(t.nodeType==1)return t;t=t.nextSibling}return null},n.prototype.slideWidth=function(){return this.isSlideShow||this.enableVariedWidth?this.enableVariedWidth?this.slideRightMargin+this.getElementWidth(this.getSlide(this.activeSlideIndex)):this.slideRightMargin+this.getElementWidth(this.firstElementChild(this.bar)):this.getElementWidth(this.firstElementChild(this.bar))},n.prototype.viewportWidth=function(){return this.getElementWidth(this.viewport)},n.prototype.isCssTransitionSupported=function(){var n=this.viewport.style,t=n.WebkitTransition!=null,i=n.MozTransition!=null,r=n.OTransition!=null;return t||i||r||n.transition!=null},n.prototype.getActiveSlide=function(){return Math.round(this.viewport.scrollLeft/this.slideWidth())},n.prototype.getSlide=function(n){return this.bar.children[n]},n.prototype.updateAjax=function(){var i=this.enableVariedWidth&&this.isSlideShow?this.activeSlideIndex:this.getActiveSlide(),r=this.slideWidth()+this.slideRightMargin,n=Math.ceil(this.viewportWidth()/r),t;if(this.isSlideShow&&n++,this.enableAjaxBatchDataRequest)this.ajaxBatchDataStopRequests||i+n*this.ajaxBatchDataRequestFactor>this.totalSlides&&(this.ajaxBatchDataStopRequests=!0,sj_evt.fire("ajaxBatchDataRequired_".concat(this.controlId),n,this.callbackBatchAjax));else for(t=Math.max(0,i-n);t<Math.min(this.totalSlides,i+n);++t)this.ajaxDataLoader.loadAjaxData(this.getSlide(t))},n.prototype.updatePager=function(n){f();n||(n=this.activeSlideIndex);sj_evt.fire("pager_updateindex",this.controlId,n)},n.prototype.updateScrollingEqualWidth=function(n,t,i){var s=this,r,o;if(t===this.latestSwipeActionId){var e=this.viewport.scrollLeft-n*this.animationInterval,u=Math.floor(this.viewport.scrollLeft/this.slideWidth()),f=Math.floor(e/this.slideWidth()),h=this.viewport.scrollLeft%this.slideWidth()==0;if(this.isLeftMost()||this.isRightMost()){this.updatePager();this.updateAjax();return}if(r=0,this.isSlideShow){if(h){this.updatePager();this.updateAjax();return}if(u!==f){n<0?(this.viewport.scrollLeft=f*this.slideWidth(),this.activeSlideIndex=f):(this.viewport.scrollLeft=u*this.slideWidth(),this.activeSlideIndex=u);this.updatePager();this.updateAjax();return}this.viewport.scrollLeft=e;i=Math.max(0,Math.min(this.totalSlides-1,i));o=i*this.slideWidth()-this.viewport.scrollLeft;r=o*-.005;r=r>0?Math.min(1,r):Math.max(-1,r);sb_st(function(){s.updateScrollingEqualWidth(n+r,t,i)},this.animationInterval);return}}},n.prototype.calculateScrollLeft=function(n){var i=0,t;for(n=n===this.totalSlides?this.totalSlides-1:n,t=n;t>0;t--){var r=this.getElementWidth(this.bar.children[t-1])+this.slideRightMargin,u=(this.viewport.offsetWidth-this.getElementWidth(this.bar.children[t-1]))/2,f=(this.viewport.offsetWidth-this.getElementWidth(this.bar.children[t]))/2;i+=r-f+u}return i},n.prototype.updateScrollingVariedWidth=function(n,t,i){var l=this,e,s,o,h,c;f();var a=i>this.activeSlideIndex,v=i<this.activeSlideIndex,y=i===this.activeSlideIndex;if(t==this.latestSwipeActionId){var u=this.viewport.scrollLeft-n*this.animationInterval,p=this.viewport.scrollLeft%this.calculateScrollLeft(i)==0,r=0;if(this.isSlideShow){if(p){this.updatePager();this.updateAjax();return}if(a&&u>=this.calculateScrollLeft(i)){if(this.activeSlideIndex>this.bar.childElementCount-2)return;this.viewport.scrollLeft=this.calculateScrollLeft(i);this.activeSlideIndex++;e=this.bar.children[this.activeSlideIndex-1];s=e.children[e.childElementCount-1];this.fadingOnOverlay(s);this.updatePager();this.updateAjax();return}if(v&&u<=this.calculateScrollLeft(i)){if(this.activeSlideIndex<1)return;this.viewport.scrollLeft=this.calculateScrollLeft(i);this.activeSlideIndex--;o=this.bar.children[this.activeSlideIndex+1];h=o.children[o.childElementCount-1];this.fadingOnOverlay(h);this.updatePager();this.updateAjax();return}if(y){if(this.isRight&&u<=this.calculateScrollLeft(i)){this.viewport.scrollLeft=this.calculateScrollLeft(i);return}if(this.isLeft&&u>=this.calculateScrollLeft(i)){this.viewport.scrollLeft=this.calculateScrollLeft(i);return}}this.viewport.scrollLeft=u;i=Math.max(0,Math.min(this.totalSlides-1,i));c=this.calculateScrollLeft(i)-this.viewport.scrollLeft;r=c*-.005;r=r>0?Math.min(1,r):Math.max(-1,r);sb_st(function(){l.updateScrollingVariedWidth(n+r,t,i)},this.animationInterval);return}}},n.prototype.totalWidthOfSlidesWithinViewport=function(){var n=this.slideWidth()+this.slideRightMargin;return Math.floor(this.viewportWidth()/n)*n},n.prototype.setSlideTabFocus=function(){for(var t,i,n=0;n<this.bar.childElementCount;n++)t=this.bar.children[n],t.removeAttribute("tabindex");i=this.bar.children[this.activeSlideIndex];i.tabIndex=0},n.prototype.consumeInitialOffset=function(){var n,t,r;this.enableVariedWidth&&this.isSlideShow?(n=this.bar.children[0],t=(this.viewportWidth()-this.getElementWidth(n))/2,n.style[i]=t+"px",this.SetScrollLeft(this.calculateScrollLeft(this.activeSlideIndex))):(r=getComputedStyle(this.bar)[i],this.bar.style[i]="",this.SetScrollLeft(Math.abs(parseInt(r))));this.enableInitialOffset=!1;this.isSlideShow&&(this.activeSlideIndex=this.shownSlideIndex)},n.prototype.slidePrev=function(){var t,n,r,e;if(!this.isSlidingAnimation()){if(this.isSlideShow){if(this.enableAutoStackableSlideCrossFading&&this.activeSlideIndex>0)this.fadingOnSlide(this.bar.children[this.activeSlideIndex-1]);else if(this.enableVariedWidth){if(this.isMaskFadingAnimation)return;if(this.isMaskFadingAnimation=!0,this.activeSlideIndex<1){this.isMaskFadingAnimation=!1;return}n=this.calculateScrollLeft(this.activeSlideIndex-1)}else{if(this.isLeftMost())return;n=this.viewport.scrollLeft-this.slideWidth();n=Math.max(n,0)}this.activeSlideIndex--;_w.WireUp&&WireUp.setValue(this.control,"active",this.activeSlideIndex)}else{if(this.isLeftMost())return;var u=this.slideWidth(),f=this.viewportWidth(),i=u+this.slideRightMargin,o=f%i>=u?1:0,s=Math.floor(f/i)+o,h=Math.ceil(this.GetScrollLeft()/i),c=Math.max(0,h-s);t=c*i;t=Math.max(t,0)}this.isSlideShow&&this.enableAutoStackableSlideCrossFading?(this.updatePager(),this.updateChevrons()):(this.slideToOffset(this.isSlideShow?n:t),this.isSlideShow&&this.enableVariedWidth&&(r=this.bar.children[this.activeSlideIndex+1],e=r.children[r.childElementCount-1],this.fadingOnOverlay(e)));sj_evt.fire("slideexp_slideprev_move",this.controlId);sj_evt.fire("slideexp_log","Prev","SlideExp","Slide",!1,"Type",this.slideExpType,"AppNS",this.appns,"K",this.kvalue,"Category","CommonControls");Log.Log("Prev","SlideExp","Slide",!1,"Type",this.slideExpType,"AppNS",this.appns,"K",this.kvalue,"Category","CommonControls");this.updateState(this.activeSlideIndex)}},n.prototype.fadingOnOverlay=function(n){var l=this,r,f,i,u,c;this.enableVariedWidth&&this.isSlideShow&&this.shownSlideIndex>0&&(r=this.bar.children[this.shownSlideIndex],f=r.children[r.childElementCount-1],f.style.opacity="");var e=this.bar.children[0],a=e.children[e.childElementCount-1],o=this.bar.children[this.activeSlideIndex],h=o.children[o.childElementCount-1];for(Lib.CssClass.remove(n,s),a.style.opacity=this.activeSlideIndex===0?"0":"0.7",i=0;i<this.bar.childElementCount;i++)u=this.bar.children[i],c=u.children[u.childElementCount-1],Lib.CssClass.remove(c,t);sb_st(function(){Lib.CssClass.add(h,t)},1);sb_st(function(){Lib.CssClass.add(h,s);l.isMaskFadingAnimation=!1},300)},n.prototype.slideNext=function(){var n,t,r,e;if(!this.isSlidingAnimation()){if(this.isSlideShow){if(this.enableAutoStackableSlideCrossFading&&!this.enableHidePagerAndChevron&&this.activeSlideIndex<this.bar.childElementCount-1)this.fadingOnSlide(this.bar.children[this.activeSlideIndex+1]);else if(this.enableVariedWidth){if(this.isMaskFadingAnimation)return;if(this.isMaskFadingAnimation=!0,this.activeSlideIndex>this.bar.childElementCount-2){this.isMaskFadingAnimation=!1;return}t=this.calculateScrollLeft(this.activeSlideIndex+1)}else{if(this.isRightMost())return;t=(this.getActiveSlide()+1)*this.slideWidth()}this.activeSlideIndex++;_w.WireUp&&WireUp.setValue(this.control,"active",this.activeSlideIndex)}else{if(this.isRightMost())return;var u=this.slideWidth(),f=this.viewportWidth(),i=u+this.slideRightMargin,o=(this.viewport.scrollLeft+f)%i>=u?1:0,s=Math.floor((this.GetScrollLeft()+f)/i)+o;n=s*i;n=Math.min(n,this.maxScrollLeft)}this.enableAutoStackableSlideCrossFading?(this.updatePager(),this.updateChevrons()):(this.slideToOffset(this.isSlideShow?t:n),this.isSlideShow&&this.enableVariedWidth&&(r=this.bar.children[this.activeSlideIndex-1],e=r.children[r.childElementCount-1],this.fadingOnOverlay(e)));sj_evt.fire("slideexp_slidenext_move",this.controlId);sj_evt.fire("slideexp_log","Next","SlideExp","Slide",!1,"Type",this.slideExpType,"AppNS",this.appns,"K",this.kvalue,"Category","CommonControls");Log.Log("Next","SlideExp","Slide",!1,"Type",this.slideExpType,"AppNS",this.appns,"K",this.kvalue,"Category","CommonControls");this.updateState(this.activeSlideIndex)}},n.prototype.fadingOnSlide=function(n){var i,r;for(Lib.CssClass.remove(this.bar,y),i=0;i<this.bar.childElementCount;i++)r=this.bar.children[i],Lib.CssClass.remove(r,t);this.enableAutoSlidingFade?sb_st(function(){Lib.CssClass.add(n,t)},500):this.enableAutoStackableSlideCrossFading&&Lib.CssClass.add(n,t)},n.prototype.slideToIndex=function(n,t,i){var u=this,e,o,r,s;if((t===void 0&&(t=!1),i===void 0&&(i=!1),f(),!this.isSlidingAnimation())&&!(n<0)&&!(n>=this.totalSlides)){if(e=this.isSlideShow?this.calculateScrollLeft(n):this.slideWidth()*n,o=this.bar.children[n],this.enableVariedWidth&&this.isSlideShow){if(this.isMaskFadingAnimation)return;this.isMaskFadingAnimation=!0;r=this.bar.children[this.activeSlideIndex];s=r.children[r.childElementCount-1];this.activeSlideIndex=n;this.fadingOnOverlay(s)}else this.enableAutoStackableSlideCrossFading?(this.fadingOnSlide(this.bar.children[n]),this.activeSlideIndex=n,this.enableHidePagerAndChevron||(this.updatePager(n),this.updateChevrons())):(this.activeSlideIndex=n,this.enableAutoSlidingFade&&this.fadingOnSlide(o));t&&this.isAutoSlidingDisabled()&&this.setSlideTabFocus();sb_st(function(){u.slideToOffset(e,t?function(){u.setFocusOnCurrentSlide()}:null,i)},this.enableAutoSlidingFade?300:0);_w.WireUp&&WireUp.setValue(this.control,"active",n);sj_evt.fire("slideexp_toActiveIndex",this.controlId,n);this.updateState(this.activeSlideIndex)}},n.prototype.slideToIndexWithMinOffset=function(n){if(!this.isSlidingAnimation()&&!(n<0)&&!(n>=this.totalSlides)){if(this.isSlideVisible(n)){var t=this.slideWidth()+this.slideRightMargin;this.isRightNeighborVisible(n)?this.isLeftNeighborVisible(n)||this.slideToOffset(this.viewport.scrollLeft-t):this.slideToOffset(this.viewport.scrollLeft+t)}else this.enableVariedWidth?this.slideToVariedWidthCenter(n):this.slideToCenter(n);this.enableHighlightSelectedSlide&&(Lib.CssClass.remove(this.getSlide(this.activeSlideIndex),e),this.activeSlideIndex=n,Lib.CssClass.add(this.getSlide(this.activeSlideIndex),e))}},n.prototype.isSlideVisible=function(n){var t=this.getSlideLeftOffset(n),i=this.getSlideRightOffset(n);return this.isPositionVisible(t)||this.isPositionVisible(i)},n.prototype.isLeftNeighborVisible=function(n){var t=this.getSlideLeftOffset(n-1);return this.isPositionVisible(t)},n.prototype.isRightNeighborVisible=function(n){var t=this.getSlideRightOffset(n+1);return this.isPositionVisible(t)},n.prototype.isPositionVisible=function(n){return n>this.viewport.scrollLeft&&n<this.viewport.scrollLeft+this.viewportWidth()-this.getExtraBleedingMargin()},n.prototype.getExtraBleedingMargin=function(){return this.enableVariedWidth&&!this.isSlideShow?(this.extraBleedingMargin===undefined||this.extraBleedingMargin<0)&&(this.extraBleedingMargin=Math.abs(parseInt(getComputedStyle(this.bar).marginLeft))+parseInt(getComputedStyle(this.getSlide(0)).marginLeft)):(!this.extraBleedingMargin||this.extraBleedingMargin<=0)&&(this.extraBleedingMargin=this.viewport.scrollWidth-(this.totalSlides*(this.slideWidth()+this.slideRightMargin)-this.slideRightMargin)+Math.abs(parseInt(getComputedStyle(this.bar).marginLeft))),this.extraBleedingMargin},n.prototype.getSlideLeftOffset=function(n){return this.getSlideOffset(n)},n.prototype.getSlideRightOffset=function(n){return this.getSlideOffset(n+1)},n.prototype.getSlideOffset=function(n){var t,i,r;if(n<0?n=0:n>this.totalSlides&&(n=this.totalSlides),t=0,this.enableVariedWidth&&!this.isSlideShow)for(i=0;i<n;i++)t+=this.getSlide(i).scrollWidth+this.slideRightMargin;else r=this.slideWidth()+this.slideRightMargin,t=n*r;return n===this.totalSlides&&(t-=this.slideRightMargin),t},n.prototype.slideToCenter=function(n){var t=this.slideWidth()+this.slideRightMargin,i=n*t,r=i-this.viewportWidth()/2+t/2;this.slideToOffset(r)},n.prototype.slideToVariedWidthCenter=function(n){var i=0,t,r;for(n=n===this.totalSlides?this.totalSlides-1:n,t=n;t>0;t--)r=this.getElementWidth(this.bar.children[t-1])+this.slideRightMargin,i+=r;this.slideToOffset(i)},n.prototype.isSlidingAnimation=function(){return this.ani!=null||Lib.CssClass.contains(this.bar,"anim")},n.prototype.setFocusOnCurrentSlide=function(){var n=this.bar.children[this.activeSlideIndex],t;this.enableFocusOnSlideChild?(t=AccessibilityHelpers.getFocusableElementWithin(n)||n,t.focus()):n.focus()},n.prototype.slideToOffset=function(n,t,i){t===void 0&&(t=null);i===void 0&&(i=!1);this.updateMaxScrollLeft();var r=this.maxScrollLeft;n<0?n=0:n>r&&(n=r);this.lastTarget=n;this.updatePager();i?(this.SetScrollLeft(n),t&&t()):this.isCssTransitionSupported()?this.slideToOffsetUsingTransition(n,t):this.slideToOffsetUsingJs(n,t)},n.prototype.slideToOffsetUsingTransition=function(n,t){var r=this,f,u;if(t===void 0&&(t=null),this.enableAutoSlidingFade)this.SetScrollLeft(n),t&&t();else{if(f=n-this.GetScrollLeft(),f===0){t&&t();return}u=function(){Lib.CssClass.remove(r.bar,"anim");r.bar.style.transition="x";r.bar.style[i]="";r.SetScrollLeft(n);r.updateChevrons();sj_ue(r.bar,"transitionend",u);sj_ue(r.bar,"webkitTransitionEnd",u);sj_ue(r.bar,"oTransitionEnd",u);t&&t()};sj_be(this.bar,"transitionend",u);sj_be(this.bar,"webkitTransitionEnd",u);sj_be(this.bar,"oTransitionEnd",u);this.bar.style.transition="";Lib.CssClass.add(this.bar,"anim");this.bar.style[i]=""+-f+"px"}},n.prototype.slideToOffsetUsingJs=function(n,t){var i=this;t===void 0&&(t=null);this.ani=new sj_anim(function(n,t){n.scrollLeft=t});var r=this.ani.getInterval()/1e3,u=this.slidingTimeSpan/r,f=this.slideWidth()/u;this.ani.init(this.viewport,this.viewport.scrollLeft,n,f,function(){i.ani=null;i.updateChevrons();i.updateAjax();t&&t()})},n.prototype.isLeftMost=function(){return(this.updateMaxScrollLeft(),this.enableVariedWidth&&this.isSlideShow||this.enableAutoStackableSlideCrossFading&&!this.enableHidePagerAndChevron)?this.activeSlideIndex===0:this.GetScrollLeft()<=0},n.prototype.isRightMost=function(){return(this.updateMaxScrollLeft(),this.enableVariedWidth&&this.isSlideShow||this.enableAutoStackableSlideCrossFading&&!this.enableHidePagerAndChevron)?this.activeSlideIndex===this.bar.childElementCount-1:Math.ceil(this.GetScrollLeft())>=this.maxScrollLeft-this.allowForBoxShadow},n.prototype.updateChevrons=function(){if(f(),this.isLeftMost()&&this.isRightMost()){sj_evt.fire("slideexp_leftrightmost",this.controlId);return}if(this.isLeftMost()){sj_evt.fire("slideexp_leftmost",this.controlId);return}if(this.isRightMost()){sj_evt.fire("slideexp_rightmost",this.controlId);return}sj_evt.fire("slideexp_middle",this.controlId)},n.prototype.nextSlide=function(n){return(n+1)%this.totalSlides},n.prototype.autoSlide=function(n){var i=this,t;this.isAutoSlidingDisabled()||this.isAutoSlidingPaused()||(t=this.nextSlide(n),this.isManualSlideScroll=!1,this.enableLogPauseAutoSlide=!0,this.slideToIndex(t),u?this.triggerAutoSlideTimer(t):sb_st(function(){i.autoSlide(t)},this.autoSlidingInterval*1e3),sj_evt.fire("autoSlide"))},n.prototype.triggerAutoSlideTimerFromStart=function(n){var t=this;this.resetAutoSlideTimer();this.autoSlideTimer=sb_st(function(){t.autoSlidingInterval=n;t.autoSlide(0)},n*1e3)},n.prototype.triggerAutoSlideTimer=function(n){var t=this;this.resetAutoSlideTimer();this.autoSlideTimer=sb_st(function(){t.autoSlide(n)},this.autoSlidingInterval*1e3)},n.prototype.resetAutoSlideTimer=function(){sb_ct(this.autoSlideTimer)},n.prototype.isEventForMe=function(n){var t=n[1];return t==this.controlId||t==this.controlId+"c"},n.prototype.updateState=function(n){(f(),this.stateKey!="")&&_w.StateUpdater&&_w.StateUpdater.update(this.stateKey,n.toString())},n.prototype.getViewPortParent=function(n){return n==null||this.control==n?null:Lib.CssClass.contains(n,"b_viewport")?n:this.getViewPortParent(n.parentElement)},n.prototype.adjustContainerWidthForSmallViewPort=function(){var n=this,i,t;this.isPoleCarousel&&(i=_ge("b_pole"),this.poleEle=i&&i.childNodes?i.childNodes[0]:null,this.poleEle&&(t=this.getOffsetLeft(this.poleEle),this.horizontalScrollBar()&&this.getPoleWidth(t)!="auto"&&(Log.Log("Info","CRSLWIDTH","1"),this.enableBodyWidthOverride&&(this.poleEle.style.width=this.getPoleWidth(t))),this.enableBodyWidthOverride&&(sj_be(_d,"scroll",function(){var i=n.getpageXOffset();i>0&&(n.poleEle.style.width=n.getPoleWidth(t))}),sj_be(_w,"resize",function(){n.poleEle.style.width=n.getPoleWidth(t)}))))},n.prototype.getPoleWidth=function(n){var t=_d.documentElement.clientWidth+this.getpageXOffset(),i=_ge("b_content"),r=parseInt(getComputedStyle(i)[w]);return!this.horizontalScrollBar()||t>=_d.documentElement.scrollWidth||t>r+b?(Lib.CssClass.remove(this.poleEle,c),"auto"):(Lib.CssClass.add(this.poleEle,c),t-n+"px")},n.prototype.horizontalScrollBar=function(){return _d.documentElement.scrollWidth>_d.documentElement.clientWidth},n.prototype.getpageXOffset=function(){return Math.floor(r?-_w.pageXOffset:_w.pageXOffset)},n.prototype.getOffsetLeft=function(n){return r&&n.offsetParent?n.offsetParent.offsetWidth-n.offsetWidth:n.offsetLeft},n}();o={};n.init=k;n.slide=d;n.getVisibleSlidesIndices=g;n.isSlideVisible=nt;sj_evt.fire("slideexperience_init",n);_w.WireUp&&WireUp.init("slideexp_init",function(n){if(n){var t=n.getAttribute("data-control-id");WireUp.onUpdate(n,"select",function(n,i,r,u){sj_evt.fire("slideexp_slidetoindex",t,u)})}})})(SlideExperience||(SlideExperience={}))